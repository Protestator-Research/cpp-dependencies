name: C/C++ CI

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]
    

jobs:
  build-m4:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./m4/all --name=m4 --version=1.4.20 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./m4/all --name=m4 --version=1.4.20 --build-require -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-m4-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./m4/all --name=m4 --version=1.4.20 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./m4/all --name=m4 --version=1.4.20 --build-require -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-cmake:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./cmake/binary --name=cmake --version=4.1.2 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./cmake/binary --name=cmake --version=4.1.2 --build-require -s build_type=Debug
        conan upload "*" -r protestator-conan -c

  build-cmake-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./cmake/binary --name=cmake --version=4.1.2 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./cmake/binary --name=cmake --version=4.1.2 --build-require -s build_type=Debug
        conan upload "*" -r protestator-conan -c

  build-autoconf:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./autoconf/all --name=autoconf --version=2.72 --build-require
    - name: build debug
      run: conan create ./autoconf/all --name=autoconf --version=2.72 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-autoconf-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./autoconf/all --name=autoconf --version=2.72 --build-require
    - name: build debug
      run: conan create ./autoconf/all --name=autoconf --version=2.72 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c
  
  build-automake:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./automake/all --name=automake --version=1.16.5 --build-require
    - name: build debug
      run: conan create ./automake/all --name=automake --version=1.16.5 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-automake-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./automake/all --name=automake --version=1.16.5 --build-require
    - name: build debug
      run: conan create ./automake/all --name=automake --version=1.16.5 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-ninja:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run:  | 
        conan create ./ninja/all --name=ninja --version=1.13.1 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./ninja/all --name=ninja --version=1.13.1 --build-require -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-ninja-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run:  | 
        conan create ./ninja/all --name=ninja --version=1.13.1 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./ninja/all --name=ninja --version=1.13.1 --build-require -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c
  

  build-meson:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./meson/all --name=meson --version=1.9.1 --build-require
    - name: build debug
      run: conan create ./meson/all --name=meson --version=1.9.1 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-meson-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./meson/all --name=meson --version=1.9.1 --build-require
    - name: build debug
      run: conan create ./meson/all --name=meson --version=1.9.1 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-pkgconf:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./pkgconf/all --name=pkgconf --version=2.5.1 --build-require --build missing
    - name: build debug
      run: conan create ./pkgconf/all --name=pkgconf --version=2.5.1 --build-require --build missing -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-pkgconf-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./pkgconf/all --name=pkgconf --version=2.5.1 --build-require --build missing
    - name: build debug
      run: conan create ./pkgconf/all --name=pkgconf --version=2.5.1 --build-require --build missing -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-xorg:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./xorg/all --name=xorg --version=system
    - name: build debug
      run: conan create ./xorg/all --name=xorg --version=system -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  
  build-xkeyboard-config:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./xkeyboard-config/all --name=xkeyboard-config --version=system
    - name: build debug
      run: conan create ./xkeyboard-config/all --name=xkeyboard-config --version=system -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-gnu-config:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./gnu-config/all --name=gnu-config --version=cci.20210814
    - name: build debug
      run: conan create ./gnu-config/all --name=gnu-config --version=cci.20210814 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-opengl:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./opengl/all --name=opengl --version=system
    - name: build debug
      run: conan create ./opengl/all --name=opengl --version=system -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-b2:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: | 
        conan create ./b2/portable --name=b2 --version=5.3.3
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./b2/portable --name=b2 --version=5.3.3 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-lz4:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: |
        conan create ./lz4/all --name=lz4 --version=1.9.4
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./lz4/all --name=lz4 --version=1.9.4 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-lz4-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./lz4/all --name=lz4 --version=1.9.4
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./lz4/all --name=lz4 --version=1.9.4 -s build_type=Debug
        conan upload "*" -r protestator-conan -c

  build-nasm:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./nasm/all --name=nasm --version=2.16.01
    - name: build debug
      run: conan create ./nasm/all --name=nasm --version=2.16.01 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-linux-headers-generic:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./linux-headers-generic/all --name=linux-headers-generic --version=6.5.9
    - name: build debug
      run: conan create ./linux-headers-generic/all --name=linux-headers-generic --version=6.5.9 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-antlr-runtime:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./antlr4-cppruntime/all --name=antlr4-cppruntime --version=4.13.2
    - name: build debug
      run: conan create ./antlr4-cppruntime/all --name=antlr4-cppruntime --version=4.13.2 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-zlib:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./zlib/all --name=zlib --version=1.3.1
    - name: build debug
      run: conan create ./zlib/all --name=zlib --version=1.3.1 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c
  
  build-zlib-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./zlib/all --name=zlib --version=1.3.1 -o shared=True
    - name: build debug
      run: conan create ./zlib/all --name=zlib --version=1.3.1 -s build_type=Debug -o shared=True
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-bzip2:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./bzip2/all --name=bzip2 --version=1.0.8
    - name: build debug
      run: conan create ./bzip2/all --name=bzip2 --version=1.0.8 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-bzip2-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./bzip2/all --name=bzip2 --version=1.0.8 -o shared=True
    - name: build debug
      run: conan create ./bzip2/all --name=bzip2 --version=1.0.8 -s build_type=Debug -o shared=True
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  build-brotli:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./brotli/all --name=brotli --version=1.1.0
    - name: build debug
      run: conan create ./brotli/all --name=brotli --version=1.1.0 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-double-conversion:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./double-conversion/all --name=double-conversion --version=3.3.0
    - name: build debug
      run: conan create ./double-conversion/all --name=double-conversion --version=3.3.0 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  
  build-yaml-cpp:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./yaml-cpp/all --name=yaml-cpp --version=0.8.0
    - name: build debug
      run: conan create ./yaml-cpp/all --name=yaml-cpp --version=0.8.0 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  
  build-expat:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: |
        conan create ./expat/all --name=expat --version=2.7.3
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./expat/all --name=expat --version=2.7.3 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-flex:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev cmake ninja-build uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
        pip3 install --ignore-installed ninja
    - name: build release
      run: conan create ./flex/all --name=flex --version=2.6.4 --build missing
    - name: build debug
      run: conan create ./flex/all --name=flex --version=2.6.4 --build missing -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  
  build-bison:
    runs-on: ubuntu-latest
    needs: build-flex
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./bison/all --name=bison --version=3.8.2 --build-require
    - name: build debug
      run: conan create ./bison/all --name=bison --version=3.8.2 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-gperf:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./gperf/all --name=gperf --version=3.1 --build-require
    - name: build debug
      run: conan create ./gperf/all --name=gperf --version=3.1 --build-require -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-icu:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./icu/all --name=icu --version=77.1
    - name: build debug
      run: conan create ./icu/all --name=icu --version=77.1 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-libbacktrace:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libbacktrace/all --name=libbacktrace --version=cci.20240730
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./libbacktrace/all --name=libbacktrace --version=cci.20240730 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-snappy:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./snappy/all --name=snappy --version=1.2.1
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./snappy/all --name=snappy --version=1.2.1 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-libelf:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./libelf/all --name=libelf --version=0.8.13
    - name: build debug
      run: conan create ./libelf/all --name=libelf --version=0.8.13 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  
  build-libpng:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libpng/all --name=libpng --version=1.6.50
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libpng/all --name=libpng --version=1.6.50 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-libffi:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libffi/all --name=libffi --version=3.4.8
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libffi/all --name=libffi --version=3.4.8 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-libiconv:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./libiconv/all --name=libiconv --version=1.17
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libiconv/all --name=libiconv --version=1.17 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-libiconv-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{ secrets.ARTIFACTORY_USERNAME }}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./libiconv/all --name=libiconv --version=1.17
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libiconv/all --name=libiconv --version=1.17 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-libmount:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./libmount/all --name=libmount --version=2.40.2
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./libmount/all --name=libmount --version=2.40.2 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-md4c:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./md4c/all --name=md4c --version=0.5.2
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./md4c/all --name=md4c --version=0.5.2 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-nlohmann_json:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./nlohmann_json/all --name=nlohmann_json --version=3.11.3
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./nlohmann_json/all --name=nlohmann_json --version=3.11.3 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-sqlite3:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./sqlite3/all --name=sqlite3 --version=3.50.4
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./sqlite3/all --name=sqlite3 --version=3.50.4 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-libtool:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./libtool/all --name=libtool --version=2.4.7
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./libtool/all --name=libtool --version=2.4.7 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-nspr:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./nspr/all --name=nspr --version=4.35
    - name: build debug
      run: conan create ./nspr/all --name=nspr --version=4.35 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-util-linux-libuuid:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./util-linux-libuuid/all --name=util-linux-libuuid --version=2.39.2
    - name: build debug
      run: conan create ./util-linux-libuuid/all --name=util-linux-libuuid --version=2.39.2 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-pcre2:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-bzip2]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./pcre2/all --name=pcre2 --version=10.44 --build missing
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./pcre2/all --name=pcre2 --version=10.44 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-xz_utils:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
       conan create ./xz_utils/all --name=xz_utils --version=5.4.5
       conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./xz_utils/all --name=xz_utils --version=5.4.5 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-gettext:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
       conan create ./gettext/all --name=gettext --version=0.22.5
       conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./gettext/all --name=gettext --version=0.22.5 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-zstd:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
       conan create ./zstd/all --name=zstd --version=1.5.7
       conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./zstd/all --name=zstd --version=1.5.7 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-elfutils:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zstd, build-gettext, build-xz_utils]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./elfutils/all --name=elfutils --version=0.190 --build missing
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./elfutils/all --name=elfutils --version=0.190 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-openssl:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
       conan create ./openssl/3.x.x --name=openssl --version=3.6.0 --build missing
       conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./openssl/3.x.x --name=openssl --version=3.6.0 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-openssl-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib-windows]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
       conan create ./openssl/3.x.x --name=openssl --version=3.6.0 --build missing
       conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./openssl/3.x.x --name=openssl --version=3.6.0 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-odbc:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-libtool, build-libiconv]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./odbc/all --name=odbc --version=2.3.11
    - name: build debug
      run: conan create ./odbc/all --name=odbc --version=2.3.11 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-libxml2:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-libiconv, build-icu, build-pkgconf]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libxml2/cmake --name=libxml2 --version=2.15.0 --build missing
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./libxml2/cmake --name=libxml2 --version=2.15.0 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-libxml2-windows:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-libiconv, build-icu, build-pkgconf]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libxml2/cmake --name=libxml2 --version=2.15.0 --build missing
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./libxml2/cmake --name=libxml2 --version=2.15.0 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  
  build-freetype:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-libiconv, build-bzip2, build-brotli]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./freetype/meson --name=freetype --version=2.14.1 --build missing
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./freetype/meson --name=freetype --version=2.14.1 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c



  build-fontconfig:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-freetype, build-expat, build-util-linux-libuuid]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./fontconfig/all --name=fontconfig --version=2.15.0
    - name: build debug
      run: conan create ./fontconfig/all --name=fontconfig --version=2.15.0 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c

  
  build-wayland:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-libffi, build-libxml2, build-expat]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./wayland/all --name=wayland --version=1.22.0
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./wayland/all --name=wayland --version=1.22.0 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-wayland-protocols:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-meson, build-libxml2]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./wayland-protocols/all --name=wayland-protocols --version=1.45 --build-require
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./wayland-protocols/all --name=wayland-protocols --version=1.45 --build-require -s build_type=Debug
        conan upload "*" -r protestator-conan -c



  build-boost:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-bzip2, build-libbacktrace, build-icu, build-libiconv, build-b2]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./boost/all --name=boost --version=1.89.0
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./boost/all --name=boost --version=1.89.0 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-redboltz-mqtt_cpp:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: build-boost
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./redboltz-mqtt_cpp/all --name=redboltz-mqtt_cpp --version=13.2.1 --build missing
    - name: build debug
      run: conan create ./redboltz-mqtt_cpp/all --name=redboltz-mqtt_cpp --version=13.2.1 -s build_type=Debug --build missing
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-async_mqtt:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: build-boost
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./async_mqtt/all --name=async-mqtt --version=8.0.1
    - name: build debug
      run: conan create ./async_mqtt/all --name=async-mqtt --version=8.0.1 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-libxslt:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-libxml2]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libxslt/all --name=libxslt --version=1.1.43
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libxslt/all --name=libxslt --version=1.1.43 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-readline:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-openssl,build-libxml2,build-lz4]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./readline/all --name=readline --version=8.2
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./readline/all --name=readline --version=8.2 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-libpq:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-openssl,build-libxml2,build-lz4]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libpq/meson --name=libpq --version=17.5
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libpq/meson --name=libpq --version=17.5 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-libpq-windows:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-openssl-windows,build-libxml2-windows,build-lz4]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libpq/meson --name=libpq --version=17.5
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./libpq/meson --name=libpq --version=17.5 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c

  build-libcurl:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-openssl, build-zlib, build-brotli]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./libcurl/all --name=libcurl --version=8.16.0
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: | 
        conan create ./libcurl/all --name=libcurl --version=8.16.0 -s build_type=Debug --build missing
        conan upload "*" -r protestator-conan -c


  build-date:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: build-libcurl
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./date/all --name=date --version=3.0.4
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./date/all --name=date --version=3.0.4 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-libselinux:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: build-pcre2
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./libselinux/all --name=libselinux --version=3.6
    - name: build debug
      run: conan create ./libselinux/all --name=libselinux --version=3.6 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  build-glib:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-libffi, build-pcre2, build-elfutils, build-libmount, build-libselinux, build-libiconv]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./glib/all --name=glib --version=2.85.3
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./glib/all --name=glib --version=2.85.3 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-mongoc:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-snappy, build-openssl, build-zlib, build-icu]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./mongo-c-driver/2.X.X --version="2.2.0" --name="mongo-c-driver"
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./mongo-c-driver/2.X.X --version="2.2.0" --name="mongo-c-driver" -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-mongocxx:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-mongoc]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./mongo-cxx-driver/all --version="4.1.4" --name="mongo-cxx-driver"
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./mongo-cxx-driver/all --version="4.1.4" --name="mongo-cxx-driver" -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-xkbcommon:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-xkeyboard-config, build-xorg, build-libxml2, build-wayland]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./xkbcommon/all --name=xkbcommon --version=1.6.0
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./xkbcommon/all --name=xkbcommon --version=1.6.0 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-gtest:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: build-glib
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./gtest/all --name=gtest --version=1.17.0
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./gtest/all --name=gtest --version=1.17.0 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-harfbuzz:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-freetype, build-icu, build-glib]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: |
        conan create ./harfbuzz/all --name=harfbuzz --version=11.4.1
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./harfbuzz/all --name=harfbuzz --version=11.4.1 -s build_type=Debug
        conan upload "*" -r protestator-conan -c


  build-qt:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-openssl, build-pcre2, build-glib, build-double-conversion, build-freetype, build-fontconfig, build-icu, build-harfbuzz, build-libpng, build-libpq, build-odbc, build-wayland]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build
      run: | 
        conan create ./qt/6.x.x --name=qt --version=6.8.3
        conan upload "*" -r protestator-conan -c

  build-qt-nettools:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-openssl, build-pcre2, build-glib, build-double-conversion, build-freetype, build-fontconfig, build-icu, build-harfbuzz, build-libpng, build-libpq, build-odbc, build-wayland]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build with charts and nettools
      run: | 
        conan create ./qt/6.x.x --name=qt --version=6.8.3 -o qtcharts=True -o qthttpserver=True
        conan upload "*" -r protestator-conan -c 

  build-qt-debug:
    runs-on: LargerRunner
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-openssl, build-pcre2, build-glib, build-double-conversion, build-freetype, build-fontconfig, build-icu, build-harfbuzz, build-libpng, build-libpq, build-odbc, build-wayland]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build debug
      run: |
        conan create ./qt/6.x.x --name=qt --version=6.8.3 -s build_type=Debug
        conan upload "*" -r protestator-conan -c
  
  build-qt-debug-with-nettools:
    runs-on: LargerRunner
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    needs: [build-zlib, build-openssl, build-pcre2, build-glib, build-double-conversion, build-freetype, build-fontconfig, build-icu, build-harfbuzz, build-libpng, build-libpq, build-odbc, build-wayland]
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build with charts and nettools
      run: | 
        conan create ./qt/6.x.x --name=qt --version=6.8.3 -o qtcharts=True -o qthttpserver=True -s build_type=Debug
        conan upload "*" -r protestator-conan -c

  build-strawberry-perl:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: release
      run: | 
        conan create ./strawberryperl/all --name=strawberryperl --version=5.40.2.1 -o shared=True
        conan upload "*" -r protestator-conan -c 
    - name: debug
      run: | 
        conan create ./strawberryperl/all --name=strawberryperl --version=5.40.2.1 -s build_type=Debug -o shared=True
        conan upload "*" -r protestator-conan -c

  build-msys2:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{ secrets.ARTIFACTORY_USERNAME }}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: release
      run: |
        conan create ./msys2/all --name=msys2 --version=cci.latest -o shared=True
        conan upload "*" -r protestator-conan -c 
    - name: debug
      run: | 
        conan create ./msys2/all --name=msys2 --version=cci.latest -s build_type=Debug -o shared=True
        conan upload "*" -r protestator-conan -c

  build-libgettext:
    needs: build-libiconv-windows
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{ secrets.ARTIFACTORY_USERNAME }}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: release
      run: |
        conan create ./libgettext/all --name=libgettext --version=0.22 -o shared=True
        conan upload "*" -r protestator-conan -c 
    - name: debug
      run: | 
        conan create ./libgettext/all --name=libgettext --version=0.22 -s build_type=Debug -o shared=True
        conan upload "*" -r protestator-conan -c 

  build-winflexbison:
    runs-on: windows-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{ secrets.ARTIFACTORY_USERNAME }}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        pip install conan --break-system-packages
        conan profile detect
        conan remote add protestator-conan $env:ARTIFACTORY_URL
        conan remote login -p $env:ARTIFACTORY_TOKEN protestator-conan $env:ARTIFACTORY_USER
        conan remote remove conancenter
    - name: release
      run: |
        conan create ./winflexbison/all --name=winflexbison --version=2.5.25 -o shared=True
        conan upload "*" -r protestator-conan -c 
    - name: debug
      run: | 
        conan create ./winflexbison/all --name=winflexbison --version=2.5.25 -s build_type=Debug -o shared=True
        conan upload "*" -r protestator-conan -c

  
  # build-z3:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: |
  #       conan create ./z3/all --name=z3 --version=4.14.1
  #       conan upload "*" -r protestator-conan -c
  #   - name: build debug
  #     run: |
  #       conan create ./z3/all --name=z3 --version=4.14.1 -s build_type=Debug
  #       conan upload "*" -r protestator-conan -c

  # build-llvm-core:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   needs: [build-libffi, build-zlib, build-libxml2, build-z3, build-editline, build-termcap]
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./llvm-core/all --name=llvm-core --version=13.0.0
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  # build-llvm-openmp:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   needs: [build-llvm-core]
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./llvm-openmp/all --name=llvm-openmp --version=17.0.6
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  # build-stb:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./stb/all --name=stb --version=cci.20230920
  #   - name: build debug
  #     run: conan create ./stb/all --name=stb --version=cci.20230920 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  # build-ensmallen:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   needs: [build-armadillo]
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./ensmallen/all --name=ensmallen --version=2.21.0
  #   - name: build debug
  #     run: conan create ./ensmallen/all --name=ensmallen --version=2.21.0 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  # build-armadillo:
  #   needs: [build-openblas, build-hdf5]
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./armadillo/all --name=armadillo --version=12.6.4
  #   - name: build debug
  #     run: conan create ./armadillo/all --name=armadillo --version=12.6.4 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  # build-cereal:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./cereal/all --name=cereal --version=1.3.2
  #   - name: build debug
  #     run: conan create ./cereal/all --name=cereal --version=1.3.2 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c
  
  # build-mlpack:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   needs: [build-cereal, build-armadillo, build-ensmallen, build-stb, build-llvm-openmp]
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./mlpack/all --name=mlpack --version=4.5.1
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c
  
  # build-openblas:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./openblas/all --name=openblas --version=0.3.25
  #   - name: build debug
  #     run: conan create ./openblas/all --name=openblas --version=0.3.25 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  # build-hdf5:
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev uuid-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./hdf5/all --name=hdf5 --version=1.14.0
  #   - name: build debug
  #     run: conan create ./hdf5/all --name=hdf5 --version=1.14.0 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c

  build-ncurses:
    needs: [build-pcre2]
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: | 
        conan create ./ncurses/all --name=ncurses --version=6.5
        conan upload "*" -r protestator-conan -c
    - name: build debug
      run: |
        conan create ./ncurses/all --name=ncurses --version=6.5 -s build_type=Debug
        conan upload "*" -r protestator-conan -c

  build-termcap:
    runs-on: ubuntu-latest
    env: # Or as an environment variable
      ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
    steps:
    - uses: actions/checkout@v4
    - uses: jfrog/setup-jfrog-cli@v4
    - name: prepare runner
      run: | 
        sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev
        sudo pip install --ignore-installed --upgrade conan
        conan profile detect
        conan remote add protestator-conan $ARTIFACTORY_URL
        conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
        conan remote remove conancenter
    - name: build release
      run: conan create ./termcap/all --name=termcap --version=1.3.1
    - name: build debug
      run: conan create ./termcap/all --name=termcap --version=1.3.1 -s build_type=Debug
    - name: deploy
      run: conan upload "*" -r protestator-conan -c


  # build-editline:
  #   needs: [build-termcap, build-ncurses]
  #   runs-on: ubuntu-latest
  #   env: # Or as an environment variable
  #     ARTIFACTORY_URL: ${{ secrets.ARTIFACTORY_URL }}
  #     ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
  #     ARTIFACTORY_USER: ${{secrets.ARTIFACTORY_USERNAME}}
  #   steps:
  #   - uses: actions/checkout@v4
  #   - uses: jfrog/setup-jfrog-cli@v4
  #       # - name: prepare runner
  #     run: | 
  #       sudo apt update && sudo apt -y install make autoconf python3 python3-pip cmake libgl-dev libgl1-mesa-dev xkb-data libx11-xcb-dev libfontenc-dev libxaw7-dev libxcomposite-dev libxcursor-dev libxdamage-dev libxfixes-dev libxi-dev libxinerama-dev libxkbfile-dev libxmu-dev libxmuu-dev libxpm-dev libxrandr-dev libxres-dev libxss-dev libxtst-dev libxv-dev libxxf86vm-dev libxcb-glx0-dev libxcb-render-util0-dev libxcb-xkb-dev libxcb-icccm4-dev libxcb-image0-dev libxcb-keysyms1-dev libxcb-randr0-dev libxcb-shape0-dev libxcb-sync-dev libxcb-xfixes0-dev libxcb-xinerama0-dev libxcb-dri3-dev libxcb-cursor-dev libxcb-dri2-0-dev libxcb-dri3-dev libxcb-present-dev libxcb-composite0-dev libxcb-ewmh-dev libxcb-res0-dev libxcb-util-dev
  #       sudo pip install --ignore-installed --upgrade conan
  #       conan profile detect
  #       conan remote add protestator-conan $ARTIFACTORY_URL
  #       conan remote login -p $ARTIFACTORY_TOKEN protestator-conan $ARTIFACTORY_USER
  #       conan remote remove conancenter
  #   - name: build release
  #     run: conan create ./editline/all --name=editline --version=3.1
  #   - name: build debug
  #     run: conan create ./editline/all --name=editline --version=3.1 -s build_type=Debug
  #   - name: deploy
  #     run: conan upload "*" -r protestator-conan -c
